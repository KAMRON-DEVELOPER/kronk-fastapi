# Network settings
listen_addresses = '*'

# SSL Configuration - Force TLS
ssl = on
ssl_cert_file = '/run/secrets/pg-server-cert.pem'
ssl_key_file = '/tmp/pg-server-key.pem'
ssl_ca_file = '/run/secrets/ca.pem'

# Enhanced SSL Security Settings
ssl_min_protocol_version = 'TLSv1.2'  # Minimum TLS version
ssl_prefer_server_ciphers = on         # Prefer server cipher order
ssl_ciphers = 'HIGH:MEDIUM:+3DES:!aNULL' # Strong ciphers only

# Optional: Certificate Revocation List (if you have one)
# ssl_crl_file = '/run/secrets/ca.crl'

# Additional security settings
password_encryption = 'scram-sha-256'  # Use strong password hashing

# log_connections = off
# log_disconnections = off